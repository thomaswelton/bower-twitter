/*!
bower-twitter v0.0.0 
Convenience wrapper for the Twitter SDK
Build time: Mon May 20 2013 12:03:22 GMT+0100 (BST)
*/

(function(){var __bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("Twitter",["EventEmitter","module","mootools"],function(EventEmitter,module){var Twitter;return Twitter=function(_super){function Twitter(config){var _this=this;this.config=config,this.onTweet=__bind(this.onTweet,this),this.renderPlugins=__bind(this.renderPlugins,this),this.injectTwitter=__bind(this.injectTwitter,this),Twitter.__super__.constructor.call(this),console.log("Twitter Class",this.config),document.body.addEvent("click",function(event){return event.target.hasClass("twitter-share-button")?(event.stop(),window.open(event.target.href,"_blank","height = 250, width = 450")):void 0}),this.addEvent("onReady",function(twttr){return console.log("Twitter SDK Fully loaded",twttr),_this.renderPlugins(),twttr.events.bind("tweet",_this.onTweet)}),this.injectTwitter()}return __extends(Twitter,_super),Twitter.prototype.injectTwitter=function(cb){var _this=this;if(!document.getElementById("twitter-wjs"))return requirejs(["https://platform.twitter.com/widgets.js"],function(){return twttr.ready(function(twttr){return _this.fireEvent("onReady",twttr),"function"==typeof cb?cb(twttr):void 0})})},Twitter.prototype.renderPlugins=function(){return twttr.widgets.load(),$$(".twitter-share-button").setStyle("visibility","visible")},Twitter.prototype.onTweet=function(event){return console.log("On Tweet event fired",event)},Twitter}(EventEmitter),new Twitter(module.config())})}).call(this);